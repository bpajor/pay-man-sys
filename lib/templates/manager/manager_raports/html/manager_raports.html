<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../../common/css/header.css" />
    <link rel="stylesheet" href="../../../common/css/footer.css" />
    <link rel="stylesheet" href="../../../common/css/left-employee-nav.css" />
    <link rel="stylesheet" href="../../../common/css/date-picker.css" />
    <link rel="stylesheet" href="../css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Document</title>
  </head>
  <body>
    <header class="header">
      <img
        src="../../../common/images/brand.png"
        alt="PayrollPro Logo"
        class="logo"
      />
      <nav>
        <a href="">Home</a>
        <a href="">Features</a>
        <a href="">About</a>
        <a href="http://localhost:5500/lib/templates/login/html/login.html"
          >Logout</a
        >
      </nav>
    </header>
    <main>
      <section class="menu">
        <div class="menu-item">
          <img
            src="../../../common/images/user.png"
            alt="user_icon"
            class="user-icon"
          />
          <p>Employee Dashboard</p>
        </div>
        <div class="menu-item">
          <img
            src="../../../common/images/user.png"
            alt="user_icon"
            class="user-icon"
          />
          <p>Employee Dashboard</p>
        </div>
        <div class="menu-item">
          <img
            src="../../../common/images/user.png"
            alt="user_icon"
            class="user-icon"
          />
          <p>Employee Dashboard</p>
        </div>
        <div class="menu-item">
          <img
            src="../../../common/images/user.png"
            alt="user_icon"
            class="user-icon"
          />
          <p>Employee Dashboard</p>
        </div>
      </section>
      <section class="content">
        <!-- Header -->
        <header class="content-header">
          <div class="header-left">
            <h1>Financial Reports</h1>
          </div>
          <div class="header-right">
            <div class="date-picker">
              <span class="date-arrow" onclick="prevMonth()">&#9664;</span>
              <span class="date-text" id="date-text"
                >01 January - 31 January 2024</span
              >
              <span class="date-arrow" onclick="nextMonth()">&#9654;</span>
            </div>
            <button class="export-btn">
              Export to CSV<span> &#128229;</span>
            </button>
          </div>
        </header>
        <section class="cards">
          <div class="card">
            <h2>Monthly Summary</h2>
            <div class="card-content">
              <div class="summary-item">
                <span class="label">Total salary expenses:</span>
                <span class="value">$100,000</span>
              </div>
              <div class="summary-item">
                <span class="label">Total bonus expenses:</span>
                <span class="value">$20,000</span>
              </div>
              <div class="summary-item">
                <span class="label">Total benefit expenses:</span>
                <span class="value">$10,000</span>
              </div>
              <div class="summary-item">
                <span class="label">Total other expenses:</span>
                <span class="value">$5,000</span>
              </div>
              <div class="chart">
                <!-- Pie Chart -->
                <canvas id="pieChart"></canvas>
              </div>
            </div>
          </div>
          <div class="card">
            <h2>Salary Expenses</h2>
            <div class="card-content">
              <div class="summary-item">
                <span class="label">Total salary expenses:</span>
                <span class="value">$100,000</span>
              </div>
              <div class="summary-item">
                <span class="label">Average salary per employee:</span>
                <span class="value">$5,000</span>
              </div>
              <div class="chart">
                <!-- Bar Chart -->
                <canvas id="barChart"></canvas>
              </div>
            </div>
          </div>
            <div class="card">
            <h2>Trend Analysis</h2>
            <div class="card-content">
              <div class="chart">
              <!-- Line Chart -->
              <canvas id="lineChart"></canvas>
              </div>
            </div>
          </div>
        </section>
      </section>
    </main>
    <footer>
      <p>Â© 2024 PayrollPro. All rights reserved.</p>
    </footer>

    <script src="../../../common/scripts/dates.js"></script>
    <script>
      // Chart data
      const data = {
        labels: ["Salaries", "Bonuses", "Benefits", "Other Expenses"],
        datasets: [
          {
            label: "Expense Distribution",
            data: [100000, 20000, 10000, 5000],
            backgroundColor: [
              "rgba(75, 192, 192, 0.2)",
              "rgba(255, 99, 132, 0.2)",
              "rgba(255, 205, 86, 0.2)",
              "rgba(54, 162, 235, 0.2)",
            ],
            borderColor: [
              "rgba(75, 192, 192, 1)",
              "rgba(255, 99, 132, 1)",
              "rgba(255, 205, 86, 1)",
              "rgba(54, 162, 235, 1)",
            ],
            borderWidth: 1,
          },
        ],
      };

      // Chart configuration
      const config = {
        type: "pie",
        data: data,
        options: {
          maintainAspectRatio: false,
          responsive: true,
          plugins: {
            legend: {
              position: "top",
            },
            title: {
              display: true,
              text: "Expense Distribution",
            },
          },
        },
      };

      // Bar chart data
      const barData = {
        labels: [
          "Department A",
          "Department B",
          "Department C",
          "Department D",
          "Department E",
        ],
        datasets: [
          {
            label: "Salaries",
            data: [20000, 15000, 30000, 25000, 10000],
            backgroundColor: "rgba(75, 192, 192, 0.2)",
            borderColor: "rgba(75, 192, 192, 1)",
            borderWidth: 1,
          },
        ],
      };

      // Bar chart configuration
      const barConfig = {
        type: "bar",
        data: barData,
        options: {
          responsive: true,
          maintainAspectRatio: false, // Set to false to allow resizing
          scales: {
            y: {
              beginAtZero: true,
            },
          },
          plugins: {
            legend: {
              position: "top",
            },
            title: {
              display: true,
              text: "Salaries in each department",
            },
          },
        },
      };

      const lineData = {
        labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
        datasets: [
            {
            label: 'Salaries',
            data: [100000, 105000, 110000, 115000, 120000, 125000, 130000, 135000, 140000, 145000, 150000, 155000],
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            fill: false,
            tension: 0.1
            },
            {
            label: 'Bonuses',
            data: [20000, 21000, 22000, 23000, 24000, 25000, 26000, 27000, 28000, 29000, 30000, 31000],
            borderColor: 'rgba(255, 99, 132, 1)',
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            fill: false,
            tension: 0.1
            },
            {
            label: 'Benefits',
            data: [10000, 10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500],
            borderColor: 'rgba(255, 205, 86, 1)',
            backgroundColor: 'rgba(255, 205, 86, 0.2)',
            fill: false,
            tension: 0.1
            }
        ]
        };

        // Line chart configuration
        const lineConfig = {
        type: 'line',
        data: lineData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
            legend: {
            position: 'top',
            },
            title: {
            display: true,
            text: 'Trend Analysis'
            }
            },
            scales: {
            y: {
            beginAtZero: true
            }
            }
        },
        };

      document.addEventListener("DOMContentLoaded", function () {
        const pie_ctx = document.getElementById("pieChart").getContext("2d");
        const bar_ctx = document.getElementById("barChart").getContext("2d");
        const line_ctx = document.getElementById("lineChart").getContext("2d");
        new Chart(pie_ctx, config);
        new Chart(bar_ctx, barConfig);
        new Chart(line_ctx, lineConfig);
      });
    </script>
  </body>
</html>
